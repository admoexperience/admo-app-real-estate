//Used as a global function
//draws the silhouette of a user
UserVector = Component.create({
  name: 'user-vector',

  paper:null,
  mainLine:null,

  colour: 'black',
  thickness: 7,

  drawingInit:false,

  visible:false,
  showReady:true,

  vector:"",

  //vector of default user - used for debugging
  placeholder: "M585,162 R598.5,159.75 609.75,164.25 621,168.75 632.25,173.25 641.25,182.25 650.25,191.25 661.5,198 666,209.25 672.75,218.25 675,231.75 670.5,243 670.5,256.5 666,267.75 666,281.25 666,294.75 666,308.25 657,317.25 650.25,328.5 648,339.75 648,353.25 643.5,364.5 648,375.75 652.5,387 659.25,393.75 668.25,402.75 679.5,409.5 688.5,416.25 699.75,420.75 711,425.25 724.5,425.25 735.75,429.75 747,434.25 758.25,438.75 769.5,445.5 778.5,454.5 787.5,463.5 796.5,472.5 805.5,481.5 810,492.75 819,501.75 828,510.75 837,519.75 843.75,528.75 852.75,537.75 861.75,546.75 870.75,549 879.75,542.25 884.25,531 884.25,517.5 888.75,506.25 888.75,492.75 888.75,479.25 888.75,465.75 884.25,454.5 879.75,443.25 870.75,434.25 866.25,423 859.5,414 857.25,400.5 852.75,389.25 852.75,375.75 861.75,369 873,371.25 884.25,369 888.75,357.75 891,344.25 897.75,335.25 906.75,326.25 918,321.75 929.25,317.25 940.5,312.75 954,315 963,324 967.5,335.25 976.5,344.25 983.25,353.25 990,364.5 985.5,375.75 981,387 976.5,398.25 972,409.5 969.75,423 967.5,434.25 960.75,445.5 954,454.5 954,468 954,481.5 954,495 949.5,506.25 949.5,519.75 949.5,533.25 949.5,546.75 949.5,560.25 949.5,573.75 945,585 942.75,598.5 940.5,609.75 936,621 933.75,634.5 927,643.5 922.5,654.75 913.5,663.75 900,666 886.5,666 875.25,661.5 864,657 852.75,650.25 843.75,643.5 832.5,639 821.25,634.5 810,630 796.5,630 783,630 771.75,623.25 762.75,614.25 753.75,605.25 744.75,598.5 738,607.5 733.5,618.75 733.5,632.25 729,643.5 724.5,654.75 720,666 715.5,677.25 715.5,690.75 720,702 724.5,713.25 729,724.5 733.5,735.75 733.5,749.25 738,760.5 733.5,771.75 733.5,785.25 738,796.5 740.25,807.75 747,819 747,832.5 747,846 742.5,857.25 738,868.5 740.25,879.75 742.5,893.25 747,904.5 751.5,915.75 751.5,929.25 756,940.5 756,954 756,967.5 756,981 756,994.5 756,1008 751.5,1019.25 744.75,1030.5 733.5,1035 720,1037.25 706.5,1037.25 693,1037.25 679.5,1037.25 666,1037.25 652.5,1037.25 639,1037.25 625.5,1037.25 612,1037.25 598.5,1037.25 585,1037.25 571.5,1037.25 558,1037.25 544.5,1037.25 531,1037.25 517.5,1037.25 504,1037.25 490.5,1037.25 477,1037.25 463.5,1037.25 450,1037.25 436.5,1037.25 423,1037.25 409.5,1037.25 396,1035 389.25,1023.75 389.25,1010.25 384.75,999 384.75,985.5 389.25,974.25 391.5,960.75 393.75,949.5 393.75,936 398.25,924.75 402.75,913.5 407.25,902.25 409.5,888.75 411.75,877.5 411.75,864 411.75,850.5 420.75,841.5 425.25,830.25 423,819 420.75,805.5 420.75,792 425.25,780.75 434.25,771.75 434.25,758.25 434.25,744.75 436.5,731.25 438.75,720 438.75,706.5 438.75,693 443.25,681.75 443.25,668.25 447.75,657 447.75,643.5 447.75,630 443.25,618.75 438.75,607.5 432,598.5 420.75,603 409.5,607.5 400.5,616.5 389.25,621 375.75,621 364.5,623.25 353.25,630 342,634.5 333,641.25 321.75,648 310.5,652.5 299.25,657 288,661.5 276.75,666 263.25,666 252,661.5 243,652.5 240.75,639 236.25,627.75 234,616.5 227.25,605.25 222.75,594 218.25,582.75 216,571.5 213.75,558 213.75,544.5 209.25,533.25 209.25,519.75 207,508.5 204.75,495 200.25,483.75 200.25,470.25 195.75,459 195.75,445.5 191.25,434.25 186.75,423 182.25,411.75 177.75,400.5 173.25,389.25 168.75,378 164.25,366.75 164.25,353.25 164.25,339.75 164.25,326.25 168.75,315 180,308.25 189,299.25 200.25,294.75 211.5,290.25 222.75,294.75 234,299.25 245.25,303.75 256.5,308.25 265.5,317.25 270,328.5 274.5,339.75 281.25,348.75 290.25,357.75 297,369 301.5,380.25 297,391.5 292.5,402.75 285.75,414 276.75,423 274.5,434.25 270,445.5 270,459 272.25,470.25 274.5,483.75 279,495 279,508.5 283.5,519.75 290.25,528.75 299.25,537.75 312.75,537.75 321.75,531 330.75,522 342,515.25 351,506.25 360,497.25 366.75,488.25 375.75,479.25 384.75,470.25 393.75,461.25 402.75,452.25 411.75,445.5 420.75,436.5 432,429.75 443.25,425.25 454.5,420.75 468,420.75 479.25,416.25 492.75,416.25 501.75,409.5 513,402.75 524.25,398.25 533.25,391.5 540,380.25 542.25,369 537.75,357.75 533.25,346.5 528.75,335.25 526.5,324 524.25,310.5 519.75,299.25 519.75,285.75 519.75,272.25 515.25,261 515.25,247.5 515.25,234 519.75,222.75 524.25,211.5 531,200.25 537.75,191.25 546.75,182.25 555.75,173.25 564.75,166.5 585,162",

  shown: function(){
    this.initPaper();
    this.visible = false;
    this.showReady = true;
  },

  hideSilhouette: function(){
    this.element.css({opacity:0});
  },

  scaleVector: function(scale){
    this.element.css({top:0,'transform':'scale(' + scale + ')', opacity:1});
  },

  initPaper: function()
  {
    var self = this;
    var snapSVG = this.subElm('.vector');
    this.paper = new Raphael(snapSVG.get(0));
    this.mainLine = this.paper.path(this.placeholder).attr({"stroke-linecap":"round","stroke-opacity":0.5, fill:this.colour, stroke:this.colour, "stroke-width":this.thickness});

    this.drawingInit = true;
    this.addTimeout('linesR',function(){
      self.drawingInit = true;
    },500);
  },

  drawVector:function(vector){
    this.vector = vector;

    if(this.drawingInit){
      this.mainLine.attr({path:vector});
    }
  },

});
